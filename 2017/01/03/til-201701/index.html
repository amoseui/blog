<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Weekly TIL 201701 · connectin' the dots</title><meta name="description" content="Weekly TIL 201701 - amoseui"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/amoseui" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Weekly TIL 201701</h1><div class="post-info">Jan 3, 2017</div><div class="post-content"><p>Weekly TIL #201701 <em>(20161023 - 20170101 : 8 TILs)</em></p>
<hr>
<h2 id="Count-TIL’s"><a href="#Count-TIL’s" class="headerlink" title="Count TIL’s"></a>Count TIL’s</h2><blockquote>
<p>20161023 vim</p>
<p>vim 상에서 README에 있는 링크가 몇개가 존재하는지 확인하여 TIL 개수를 파악하기 위한 vim 스크립트<br>reference에 있는 다른 TIL 프로젝트를 참고하였다.</p>
</blockquote>
<p>Count number of TIL’s in til project.</p>
<p>Add below lines to ~/.vimrc.<br>This allows .vimrc in each directories even if it does unsafe things.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span> exrc</div><div class="line"><span class="keyword">set</span> secure</div></pre></td></tr></table></figure>
<hr>
<p>.vimrc in til project<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>! <span class="title">CountTils</span><span class="params">()</span></span></div><div class="line">  <span class="keyword">execute</span> <span class="string">'%s/^- \[//n'</span></div><div class="line"><span class="keyword">endfunction</span></div><div class="line"></div><div class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">c</span> :<span class="keyword">call</span> CountTils()<span class="symbol">&lt;cr&gt;</span></div></pre></td></tr></table></figure></p>
<p>When you open README.md, press ‘\ + c’.<br>This will read number of items with ‘- <a href="#Reference">link</a>‘ format.<br>It will show ‘N matches on N lines’ in terminal.</p>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><ul>
<li><a href="https://github.com/jbranchaud/til#usage" target="_blank" rel="external">usage</a></li>
<li><a href="https://github.com/jbranchaud/til/blob/master/.vimrc" target="_blank" rel="external">source</a></li>
</ul>
<hr>
<h2 id="Update-a-new-post"><a href="#Update-a-new-post" class="headerlink" title="Update a new post"></a>Update a new post</h2><blockquote>
<p>20161027 hexo</p>
<p>hexo에서 draft를 생성하고 publish하는 방법 요약. 할 때마다 헷갈려서 작성하였다.</p>
</blockquote>
<p>Update a new post and deploy it to blog.</p>
<hr>
<p>Create a draft.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new draft <span class="variable">$&#123;title&#125;</span></div></pre></td></tr></table></figure>
<p>in source/_drafts/${title}.md</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: $&#123;title&#125;</div><div class="line">tags:</div><div class="line">  - tag</div><div class="line">---</div><div class="line"></div><div class="line">contents</div></pre></td></tr></table></figure>
<hr>
<p>Publish a post in draft</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo publish draft <span class="variable">$&#123;title&#125;</span></div></pre></td></tr></table></figure>
<hr>
<p>Generate and run server<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div><div class="line">$ hexo server</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="Generate-and-apply-a-git-patch"><a href="#Generate-and-apply-a-git-patch" class="headerlink" title="Generate and apply a git patch"></a>Generate and apply a git patch</h2><blockquote>
<p>20161028 git</p>
<p>patch 파일을 생성하고 다시 이를 적용하는 방법.<br>같은 프로젝트지만 다른 폴더에 위치할 때 패치를 옮기기 위한 방법으로 사용한다.</p>
</blockquote>
<p>Generate the patch of the topmost <n> commits from a specific <sha1> hash.</sha1></n></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git format-patch -&lt;n&gt; &lt;SHA1&gt;</div></pre></td></tr></table></figure>
<hr>
<p>Apply the patch file in a local directory.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git apply &#123;NAME&#125;.patch</div></pre></td></tr></table></figure>
<hr>
<h2 id="Use-repr-strings-for-debugging-output"><a href="#Use-repr-strings-for-debugging-output" class="headerlink" title="Use repr strings for debugging output"></a>Use repr strings for debugging output</h2><blockquote>
<p>20161030 python</p>
<p>클래스에 <strong>repr</strong>를 선언하여 정의한 포맷대로 class 정보를 print 할 수 있다.</p>
</blockquote>
<p>repr returns strings of object info</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">b = eval(repr(a))</div><div class="line">asser a == b</div></pre></td></tr></table></figure>
<hr>
<p>Declare __repr__ method to represent object.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReprClass</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></div><div class="line">      self.x = x</div><div class="line">      self.y = y</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></div><div class="line">      <span class="keyword">return</span> <span class="string">'ReprClass(%d, %d)'</span> % (self.x, self.y)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">obj = ReprClass(<span class="number">1</span>, <span class="number">2</span>):</div><div class="line">print(obj)</div><div class="line"></div><div class="line">&gt;&gt;&gt;</div><div class="line">ReprClass(<span class="number">1</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<hr>
<p>If you can’t control declaration of the class,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">obj = ReprClass(<span class="number">3</span>, <span class="number">4</span>):</div><div class="line">print(obj.__dict__)</div><div class="line"></div><div class="line">&gt;&gt;&gt;</div><div class="line">&#123;<span class="string">'y'</span>: <span class="number">4</span>, <span class="string">'x'</span>: <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
<hr>
<h5 id="Reference-1"><a href="#Reference-1" class="headerlink" title="Reference"></a>Reference</h5><ul>
<li><a href="https://www.amazon.com/Effective-Python-Specific-Software-Development/dp/0134034287" target="_blank" rel="external">Effective Python #56</a><ul>
<li><a href="http://www.yes24.com/24/goods/25138160?scode=032&amp;OzSrank=6" target="_blank" rel="external">한글 번역: 파이썬 코딩의 기술</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="Untrack-files-after-add-in-gitignore"><a href="#Untrack-files-after-add-in-gitignore" class="headerlink" title="Untrack files after add in .gitignore"></a>Untrack files after add in .gitignore</h2><blockquote>
<p>20161103 git</p>
<p>기존 git history에 포함 되어있는 파일을 .gitignore에 추가하여 빼고 싶은 경우,<br>.gitignore에 추가하였지만 git status에 안 잡힐 때 해결 방법</p>
</blockquote>
<p>Add some files you don’t want to track anymore in .gitignore in the middle of the project</p>
<p>.gitignore<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gradle.properties</div></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ git add .gitignore</div><div class="line">$ git commit -m <span class="string">"test"</span></div><div class="line">$ git rm --cached -r gradle.properties</div><div class="line">$ git status</div><div class="line">On branch master</div><div class="line">Changes to be committed:</div><div class="line">  (Use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</div><div class="line">      deleted: gradle.properties</div><div class="line"></div><div class="line">$ git add gradle.properties</div><div class="line">$ git commit --amend</div></pre></td></tr></table></figure>
<p>Now the file is not in the version control and still alive in local.</p>
<hr>
<h2 id="Get-properties-or-environment-variables"><a href="#Get-properties-or-environment-variables" class="headerlink" title="Get properties or environment variables"></a>Get properties or environment variables</h2><blockquote>
<p>20161105 gradle</p>
<p>공개해서는 안 되는 KEY 같은 값들을 환경 변수에 저장하고 gradle에서 읽어와 Java 파일에 넘기는 방법</p>
</blockquote>
<p>Get some variables from hidden files or environment</p>
<p>Set variables in gradle.properties<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">KEY=AZ2Fdfjlafj23jfaZKEF</div></pre></td></tr></table></figure></p>
<p>or</p>
<p>export environment variables, usually save on CI server<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> KEY=<span class="string">"AZ2Fdfjlafj23jfaZKEF"</span></div></pre></td></tr></table></figure></p>
<hr>
<p>in build.gradle<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">key</span> = <span class="title">project</span>.<span class="title">hasProperty</span><span class="params">(<span class="string">'KEY'</span>)</span></span> ? KEY : <span class="string">"$System.env.KEY"</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">android &#123;</div><div class="line">  defaultConfig &#123;</div><div class="line">    ...</div><div class="line">    buildConfigField <span class="string">'String'</span>, <span class="string">'KEY'</span>, <span class="string">"\"$&#123;key&#125;\""</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>Set constants from BuildConfig<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SECRET_KEY = BuildConfig.KEY;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="Test-Terms-테스트-용어-정리"><a href="#Test-Terms-테스트-용어-정리" class="headerlink" title="Test Terms (테스트 용어 정리)"></a>Test Terms (테스트 용어 정리)</h2><blockquote>
<p>20161110 testing</p>
<p>테스트 용어 정리</p>
</blockquote>
<p>테스트 관련 용어 정리</p>
<hr>
<ul>
<li>테스트 더블(Test Double)<ul>
<li>더미 객체(Dummy Object)<ul>
<li>모조품, 단순한 껍데기</li>
<li>단지 인스턴스화될 수 있는 객체 수준</li>
</ul>
</li>
<li>테스트 스텁(Test Stub)<ul>
<li>더미 객체가 마치 실제로 동작하는 것처럼 보이게 만들어놓은 객체</li>
<li>인스턴스화된 객체가 특정 상태나 모습을 대표</li>
</ul>
</li>
<li>페이크 객체(Fake Object)<ul>
<li>여러 개의 인스턴스를 대표할 수 있는 경우</li>
<li>좀 더 복잡한 구현이 들어가 있는 객체</li>
</ul>
</li>
<li>테스트 스파이(Test Spy)<ul>
<li>특정 객체가 사용됐는지, 그 객체의 예상된 메소드가 정상적으로 호출되었는지 확인</li>
</ul>
</li>
<li>Mock 객체(Mock Object)<ul>
<li>행위를 껌증하기 위해 사용되는 객체</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>상태 기반 테스트(state base test)<ul>
<li>테스트 대상 클래스의 메소드를 호출하고, 그 결과값과 예상값을 비교</li>
<li>특정한 메소드를 거친 후, 객체의 상태에 대해 예상값과 비교하는 방식</li>
</ul>
</li>
<li>행위 기반 테스트(behavior base test)<ul>
<li>올바른 로직 수행에 대한 판단의 근거로 특정한 동작의 수행 여부를 이용</li>
<li>테스트 스파이 객체를 사용하거나 자체적으로 검증 기능을 제공하는 Mock 객체를 따로 만들어서 테스트 케이스를 작성</li>
</ul>
</li>
</ul>
<hr>
<h5 id="Reference-2"><a href="#Reference-2" class="headerlink" title="Reference"></a>Reference</h5><ul>
<li><a href="http://www.yes24.com/24/goods/3908398?scode=029" target="_blank" rel="external">테스트 주도 개발 : 고품질 쾌속개발을 위한 TDD 실천법과 도구</a></li>
</ul>
<hr>
<h2 id="Common-Terms-용어-정리"><a href="#Common-Terms-용어-정리" class="headerlink" title="Common Terms (용어 정리)"></a>Common Terms (용어 정리)</h2><blockquote>
<p>20161114 java</p>
<p>Singleton을 다시 공부하면서 Lazy Initialization의 뜻을 다시 정리</p>
</blockquote>
<p>Java 용어 정리</p>
<hr>
<h6 id="Lazy-Initialization-게으른-초기화"><a href="#Lazy-Initialization-게으른-초기화" class="headerlink" title="Lazy Initialization (게으른 초기화)"></a>Lazy Initialization (게으른 초기화)</h6><ul>
<li>객체가 필요할 때 만들어 쓰는 방식</li>
<li>정의된 필드가 많은 경우 사용되지 않는 경우</li>
<li>초기 구동 시간을 줄여야 하는 경우</li>
<li>디버깅이 어렵다</li>
</ul>
<hr>
</div></article></div></section><footer><div class="paginator"><a href="/2017/01/10/til-201702/" class="prev">PREV</a><a href="/2017/01/01/new-year/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'blogamoseuicom';
var disqus_identifier = '2017/01/03/til-201701/';
var disqus_title = 'Weekly TIL 201701';
var disqus_url = 'http://blog.amoseui.com/2017/01/03/til-201701/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blogamoseuicom.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 - 2017 <a href="http://blog.amoseui.com">amoseui</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-71786246-2",'auto');ga('send','pageview');</script></body></html>