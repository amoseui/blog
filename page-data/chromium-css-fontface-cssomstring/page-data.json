{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/chromium-css-fontface-cssomstring","result":{"data":{"markdownRemark":{"id":"5d4ef912-dc8e-504d-b3d3-7bf31f3d1c9f","html":"<h3 id=\"관련-링크\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EB%A7%81%ED%81%AC\" aria-label=\"관련 링크 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 링크</h3>\n<ul>\n<li>제목: Replace DOMString with CSSOMString for FontFace properties</li>\n<li>패치: <a href=\"https://chromium-review.googlesource.com/c/chromium/src/+/4624019\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://chromium-review.googlesource.com/c/chromium/src/+/4624019</a></li>\n<li>버그\n<ul>\n<li><a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=1344170\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=1344170</a></li>\n<li><a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=1408675\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=1408675</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h3>\n<p>다시 Chromium 에 contribution 을 시작했다. 작년 10월에 마지막으로 패치를 반영한 이후로 6개월 넘게 아무것도 하지 않았다. 이제 다시 마음을 잡고 꾸준히 기여해보려고 한다. 오랜만에 버그 트래커를 뒤져서 쉬운 것부터 찾아 시작했다. 올해 웹 플랫폼 생태계에서 집중적으로 신경쓰고 있는 모듈 중 하나이면서 이슈가 많은 CSS 모듈을 선택했다. CSS 모듈 내 Web Spec 과 Chromium Blink 의 Web IDL(Interface Definition Language) 파일의 내용이 일치하지 않는 이슈를 찾아 수정하였다.</p>\n<h3 id=\"내용\" style=\"position:relative;\"><a href=\"#%EB%82%B4%EC%9A%A9\" aria-label=\"내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>내용</h3>\n<p>이슈의 내용은 <code class=\"language-text\">FontFace</code> 의 속성들이 현재 선언되어 있는 <code class=\"language-text\">DOMString</code> 대신 W3C CSS 스펙에 따라 <code class=\"language-text\">CSSOMString</code> 타입을 리턴해야 된다는 것이었다. 보통 IDL 에서 어떤 속성의 타입이 스펙과 다른 경우, 1) IDL 의 파일만 살짝 바꿔주면 되는 경우, 2) IDL 및 IDL 이 동일한지 검증을 하는 WPT (Web Platform Tests) 를 같이 수정해줘야 하는 경우, 3) IDL 과 관련된 로직, C++ 파일들까지 함께 수정해줘야 하는 경우 등 간단하게는 3가지 경우가 있고 가끔은 그보다 더 복잡한 경우가 있기도 하다. 이번 수정은 1)번과 같은 경우에 속했다.</p>\n<p><code class=\"language-text\">CSSOMString</code> 은 <code class=\"language-text\">CSSOM</code>(CSS Object Model) 에서 사용하는 String type 이다. <a href=\"https://drafts.csswg.org/cssom/#cssomstring-type\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CSSOMString</a> 스펙에 따르면 <code class=\"language-text\">CSSOMString</code> 에 대한 실제 구현은 브라우저에서 <code class=\"language-text\">USVString</code> 이나 <code class=\"language-text\">DOMString</code> 중 하나를 선택하면 된다고 한다. Chromium 에서는 <code class=\"language-text\">third_party/blink/renderer/core/css/cssom_string.idl</code> 파일에 <code class=\"language-text\">typedef DOMString CSSOMString</code> 으로 선언되어 있어 IDL 에서 <code class=\"language-text\">DOMString</code> 을 쓰나 <code class=\"language-text\">CSSOMString</code> 을 쓰나 같은 것이었다. 그래도 스펙을 따르는게 맞으니 <code class=\"language-text\">FontFace</code> 에 선언되어있는 <code class=\"language-text\">DOMString</code> 을 <code class=\"language-text\">CSSOMString</code> 바꿔주었고, 수정 과정에서 발견한 <code class=\"language-text\">FontFaceDescriptors</code> 에 대해서도 같은 수정을 해주었다.</p>\n<h3 id=\"후기\" style=\"position:relative;\"><a href=\"#%ED%9B%84%EA%B8%B0\" aria-label=\"후기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>후기</h3>\n<p>오랜만의 contribution 이었기 때문에 간단한 수정으로 시작하였다. 앞으로 매주 꾸준히 할 수 있는 동력과 시스템을 만들고 싶다.</p>","fields":{"slug":"/posts/2023-06-20---chromium-css-fontface-cssomstring//chromium-css-fontface-cssomstring","tagSlugs":["/tag/opensource/","/tag/chromium/","/tag/css/","/tag/w3c/"]},"frontmatter":{"date":"2023-06-20T22:50:00.000Z","description":"2023년 Chromium 에 반영한 첫 번째 패치 내용 정리","tags":["opensource","chromium","css","w3c"],"title":"Chromium Contribution: CSS FontFace 속성 타입을 DOMString 에서 CSSOMString 으로 변경","socialImage":null}}},"pageContext":{"slug":"/posts/2023-06-20---chromium-css-fontface-cssomstring//chromium-css-fontface-cssomstring"}},"staticQueryHashes":["251939775","2702970128","401334301"]}